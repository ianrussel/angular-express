<app-loading [condition]="isLoading"></app-loading>

<app-toast [message]="toast.message"></app-toast>

<!--div class="card" *ngIf="!isLoading">
	<h4 class="card-header">Current cheats ({{cheats.length}})</h4>
	<div class="card-block">
		<table class="table table-bordered table-striped">
			<thead class="thead-default">
				<tr>
					<th>Title</th>
					<th>Code</th>
					<th>Description</th>
					<th>Name</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody *ngIf="cheats.length === 0">
				<tr>
					<td colspan="4">There are no cheats in the DB. Add a new cheat below.</td>
				</tr>  
			</tbody>
			<tbody *ngIf="!isEditing">
				<tr *ngFor="let cheat of cheats">
					<td>{{cheat.title}}</td>
					<td>{{cheat.code}}</td>
					<td>{{cheat.description}}</td>
					<td>{{cheat.name}}</td>
					<td>
						<button class="btn btn-sm btn-warning" (click)="enableEditing(cheat)"><i class="fa fa-pencil"></i> Edit</button> 
						<button class="btn btn-sm btn-danger" (click)="deleteCheat(cheat)"><i class="fa fa-trash"></i> Delete</button>
					</td>
				</tr>  
			</tbody>
			<tbody *ngIf="isEditing">
				{{ cheaterNames | json }}
				<tr>
					<td colspan="4">
						<form class="form-inline" #form="ngForm" (ngSubmit)="editCheat(cheat)" style="display:inline">
							<div class="form-group">
								<input class="form-control" type="text" name="title" [(ngModel)]="cheat.title" placeholder="Title" required>
							</div>
							<div class="form-group">
								<input class="form-control" type="text" name="code" [(ngModel)]="cheat.code" placeholder="Code" required>
							</div>
							<div class="form-group">
								<input class="form-control" type="text" name="description" [(ngModel)]="cheat.description" placeholder="Desctiption" required>
							</div>
							<div class="form-group">
								<select name="name" class="form-control" [ngModel] = "name">
									<option value="" selected disabled>Name</option>
									<option  *ngFor="let type of cheaterNames" [value]="type">{{type}}</option>
								</select>
								<input class="form-control" type="text" name="name" [ngModel] = "selectedName" placeholder="Or add Name">
							</div>
							<button class="btn btn-sm btn-primary" type="submit" [disabled]="!form.form.valid"><i class="fa fa-floppy-o"></i> Save</button>
						</form>
						<button class="btn btn-sm btn-warning" (click)="cancelEditing()"><i class="fa fa-times"></i> Cancel</button>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div-->
<div class="note note-info">
	<p> 
		Current cheats ({{cheats.length}})
	</p>
</div>
<div class="row" *ngIf="!isLoading">
	<div class="col-md-6" *ngFor="let cheat of cheats">
		<div class="portlet solid grey-cascade">
			<div class="portlet-title">
				<div class="caption">
					<i class="fa fa-code"></i>
					<span class="caption-subject bold font-white-gallery uppercase"> {{cheat.title}} </span>
					<span class="caption-subject bold font-white-gallery shit"> ({{ cheat.description}}....)</span>
				</div>
				<div class="tools">
					<a href="javascript:;" class="collapse"> </a>
					<a href="" class="fullscreen"> </a>
				</div>
				<div class="actions">
					<button class="btn default btn-sm" (click)="deleteCheat(cheat)">
						<i class="fa fa-remove icon-black"></i> Delete 
					</button>
					<button class="btn green btn-outline sbold" (click)="enableEditing(cheat)" data-toggle="modal" href="#draggable">
						<i class="fa fa-pencil icon-black"></i> Edit 
					</button>
				</div>
			</div>
			<div class="portlet-body"> 
				<pre>{{cheat.code}}</pre>
			</div>
		</div>
		<div class="portlet light">
			<div class="portlet-title">
				<div class="caption">
					<i class="fa fa-code"></i>
					<span class="caption-subject bold font-grey-gallery uppercase"> {{cheat.title}} </span>
				</div>
				<div class="tools">
					<a href="" class="collapse"> </a>
					<a (click)="enableEditing(cheat)" data-toggle="modal" href="#draggable" class="config"></a>
					<a href="" class="reload"> </a>
					<a href="" class="fullscreen"> </a>
					<a class="remove" (click)="deleteCheat(cheat)"></a>
				</div>
			</div>
			<div class="portlet-body">
				<h5>{{ cheat.description }}...</h5>
					<pre>{{ cheat.code }}</pre>
			</div>
		</div>
	</div>	
	<div *ngIf="isEditing" class="modal fade draggable-modal" id="draggable" tabindex="-1" role="basic" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
					<h4 class="modal-title">{{cheat.name}}</h4>
				</div>
				<div class="modal-body">
					<form class="" #form="ngForm" (ngSubmit)="editCheat(cheat)">
						<div class="form-group">
							<input class="form-control" type="text" name="title" [(ngModel)]="cheat.title" placeholder="Title" required>
						</div>
						<div class="form-group">
							<input class="form-control" type="text" name="code" [(ngModel)]="cheat.code" placeholder="Code" required>
						</div>
						<div class="form-group">
							<input class="form-control" type="text" name="description" [(ngModel)]="cheat.description" placeholder="Desctiption" required>
						</div>
						<!-- <div class="form-group">
							<select name="name" class="form-control" [ngModel] = "name">
								<option value="" selected disabled>Name</option>
								<option  *ngFor="let type of cheaterNames" [value]="type">{{type}}</option>
							</select>
						</div> -->
						<div class="form-group">
							<input class="form-control" type="text" name="name" [ngModel] = "selectedName" placeholder="Or add Name" readonly>
						</div>
						<button class="btn btn-sm btn-primary" type="submit" [disabled]="!form.form.valid" data-dismiss="modal"><i class="fa fa-floppy-o"></i> Save</button>
						<button class="btn btn-sm btn-warning" (click)="cancelEditing()"><i class="fa fa-times"></i> Cancel</button>
					</form>
					
				</div>
				<div class="modal-footer">
					<button type="button" class="btn dark btn-outline" data-dismiss="modal">Close</button>
					<button type="button" class="btn green">Save changes</button>
				</div>
			</div>
		</div>
	</div>
</div>


